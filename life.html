<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Life Journey Game</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: #1a1a1a;
      font-family: 'Courier New', Courier, monospace;
    }
    canvas {
      border: 2px solid #fff;
      image-rendering: pixelated;
    }
  </style>
</head>
<body>
  <script>
    let player;
    let sprite;
    let bgX = 0;
    let speed = 2;
    let milestones = [
      { year: "2018.03", text: "숭실대 글로벌미디어학부 입학", x: 100, visible: false, scale: 0 },
      { year: "2018.12", text: "휴학", x: 300, visible: false, scale: 0 },
      { year: "2019.01", text: "비건카페 리코 다방 창업", x: 500, visible: false, scale: 0 },
      { year: "2020.06", text: "비건카페 리코 다방 종료", x: 700, visible: false, scale: 0 },
      { year: "2020.07", text: "복학, 숭실대 의생명시스템학부 전과", x: 900, visible: false, scale: 0 },
      { year: "2020.12", text: "휴학", x: 1100, visible: false, scale: 0 },
      { year: "2020.12", text: "위투게더 내몸에안심 PM", x: 1300, visible: false, scale: 0 },
      { year: "2022.06", text: "위투게더 종료", x: 1500, visible: false, scale: 0 },
      { year: "2022.07", text: "네발연구소 창업, 플래닛타임즈 기자", x: 1700, visible: false, scale: 0 },
      { year: "2023.06", text: "네이버 커넥트재단 Content Manager", x: 1900, visible: false, scale: 0 }
    ];
    let spriteURL = "path/to/your/character.png"; // Replace with your PNG URL or local path

    function preload() {
      sprite = loadImage(spriteURL); // Load your PNG character sprite
    }

    function setup() {
      createCanvas(800, 400);
      player = { x: 50, y: height - 100, w: 32, h: 32 };
    }

    function draw() {
      // Moving background with subtle pixel pattern
      background(50);
      for (let x = -bgX % 20; x < width; x += 20) {
        for (let y = 0; y < height; y += 20) {
          fill(70);
          rect(x, y, 10, 10);
        }
      }
      bgX += speed * 0.5; // Background scrolls slower for parallax effect

      // Check milestones and trigger pop effect
      for (let m of milestones) {
        let screenX = m.x - bgX;
        if (screenX <= width / 2 && !m.visible) {
          m.visible = true; // Trigger visibility when milestone is near center
        }
        if (m.visible) {
          if (m.scale < 1) {
            m.scale += 0.1; // Scale up for pop effect
            if (m.scale > 1) m.scale = 1;
          }
          push();
          translate(screenX, height / 2);
          scale(m.scale);
          fill(255);
          textAlign(CENTER);
          textSize(16);
          text(m.year, 0, -20);
          textSize(12);
          text(m.text, 0, 0, 150);
          fill(255, 255, 0);
          ellipse(0, -40, 10, 10); // Milestone marker
          pop();
        }
      }

      // Draw player (your PNG sprite)
      push();
      translate(player.x, player.y);
      image(sprite, 0, 0, player.w, player.h);
      pop();

      // Move player and background with right arrow
      if (keyIsDown(RIGHT_ARROW)) {
        if (player.x < width / 2) {
          player.x += speed;
        } else {
          bgX += speed; // Scroll background when player reaches screen center
        }
      }
    }
  </script>
</body>
</html>
